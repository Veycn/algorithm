### 位运算
在计算机世界中所有数据的运算和存储都是 0 和 1 来完成的。

#### 原码
```java
int num = 5;
// int 占 4 个字节， 一个字节 8 个比特位， 其中最高位是符号位
//  5 => 0000 0000  0000 0000  0000 0000  0000 0101
// -5 => 1000 0000  0000 0000  0000 0000  0000 0101
```

上述这种我们从计算机组成原理里面学来的 数值 的表示方式，称之为**原码**。
而事实上，计算机在运算的时候是通过 **补码** 进行运算的。而在补码之前需要先引入 **反码**。

#### 反码
- 对于一个正数来说，原码、反码、补码都是一样的。

- 对于负数来说，反码即：原码的符号为不变，数值位 **按位取反**。

```java
 5: 0000 0000  0000 0000  0000 0000  0000 0101
-5: 1111 1111  1111 1111  1111 1111  1111 1010
```

#### 补码
补码即：反码 + 1

```java
-5: 1111 1111  1111 1111  1111 1111  1111 1010
-5: 1111 1111  1111 1111  1111 1111  1111 1011 // + 1
```

0 是一个奇特的数，在计算机的世界里，0 有 正0 和 负0 之分。

```java
+0: 0000 0000  0000 0000  0000 0000  0000 0000
-0: 1000 0000  0000 0000  0000 0000  0000 0000
```

#### 位运算符

- &        按位与
- |        按位或
- ^        按位异或  不同为 1， 相同为 0
- ~        按位取反
- '<<'     左移     a << b 在原数据后面补 b 个 0, 乘以 2^b
- '>>'     右移     a >> b 去掉末尾 b 位，除以 2^b, 在高位补符号位
- '>>>'    无符号右移  不关心符号 除以 2^b， 高位补 0


在使用这些位运算的时候，都是拿到补码进行运算的。

#### 更快的位运算代替普通运算

- 取模

对一个数取模相当于按位与这个数减一: 
a % b = a & (b - 1)
```java
33 % 16 => 33 & 15
```

- 奇偶判断

偶数 & 1 = 0
奇数 & 1 = 1

- 交换两个数

一个数与另外一个数异或两次之后等于自己
```javascript
a = a ^ b
b = a ^ b
a = a ^ b
```
给定一些数，只有一个数字出现了一次，其余数字出现两次。找出这个数。

```javascript
    var a = [1,1,2,2,3,3,4,4,5]
    var b = 0
    a.forEach(v => b^=v)
    return b
```



